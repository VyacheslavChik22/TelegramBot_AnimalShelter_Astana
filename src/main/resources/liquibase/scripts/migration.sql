-- liquibase formatted sql

-- changeset oalekseenko:1
CREATE TABLE animal (
                        id bigint,

                        form varchar(20) NOT NULL,
                            CONSTRAINT animal_primary_key primary key(form)
);
                    INSERT INTO animal
                    values (1,  'DOG');
                    INSERT INTO animal
                    values (2,  'CAT');

CREATE TABLE person (
                        id bigint generated by default as identity primary key,
                        "name" varchar(50) not null,
                        email varchar(50) not null,
                        phone varchar(20) not null,
                        address varchar(100) not null,
                        chat_id bigint not null,
                        animal_form varchar(20) references animal(form),
                        animal_adopt_date date,
                        last_report_date date
);
CREATE TABLE report (
                        id bigint generated by default as identity primary key,
                        photo_path varchar not null,
                        photo_size int not null,
                        media_type varchar not null,
                        photo_data bytea not null,
                        description text not null,
                        report_date date not null,
                        person_id bigint not null references person(id)
);
